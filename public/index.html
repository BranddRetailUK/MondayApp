<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ultimate Hub</title>
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
  <script src="customers.js" defer></script>
  <script src="orders.js" defer></script>
</head>
<body>
  <div class="app-container">
    <nav class="sidebar">
      <h2 class="sidebar-logo">Ultimate Hub</h2>
      <ul class="nav-tabs">
        <li data-tab="home" class="active">Home</li>
        <li data-tab="orders">Orders</li>
        <li data-tab="customers">Customers</li>
        <li data-tab="stock">Stock</li>
        <li data-tab="labels"> Box Labels</li>
        <li data-tab="shipping">Shipping</li>
      </ul>
    </nav>

    <main class="main-content">
      <!-- HOME -->
      <div id="tab-home" class="tab-content active">
        <h1>Home</h1>
        <p>Welcome to the dashboard.</p>
      </div>

      <!-- ORDERS -->
      <div id="tab-orders" class="tab-content">
        <h1>Orders</h1>

        <!-- LIST VIEW -->
        <div id="orders-list-view">
          <section class="card">
            <div class="card-head">
              <h2>Active Orders</h2>
              <div class="card-actions">
                <button id="open-create-order" class="btn primary">Create Order</button>
              </div>
            </div>
            <div class="card-body">
              <table id="orders-table" class="data-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Customer</th>
                    <th>Code</th>
                    <th>Product</th>
                    <th>Colour/Size</th>
                    <th>Status</th>
                    <th>Created</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
              <div class="small muted" style="margin-top:8px;">
                Showing Draft, Confirmed, and In Production only. Completed/Shipped are hidden.
              </div>
            </div>
          </section>
        </div>

        <!-- CREATE VIEW -->
        <section id="order-create-view" class="card" style="display:none">
          <div class="card-head">
            <h2>Create Order</h2>
            <div class="card-actions">
              <button id="order-create-back" class="btn outline">Back to Orders</button>
            </div>
          </div>
          <div class="card-body">
            <form id="order-form" class="form-grid">
              <div class="form-row full">
                <label>Customer <span class="req">*</span></label>
                <div class="combo">
                  <input id="order-customer" autocomplete="off" />
                  <button type="button" class="btn" id="add-customer-btn">Add Customer</button>
                  <div id="order-customer-dd" class="dd"></div>
                </div>
                <div class="small muted">Search your customers, then click to select.</div>
              </div>

              <div class="form-row full"><h3 class="subhead">Products</h3></div>

              <div id="order-lines">
<!-- Header row (shown once) -->
<div class="line-grid horizontal header-row">
  <div class="col code">Product Code</div>
  <div class="col type">Garment Type</div>
  <div class="col title">Product Title</div>
  <div class="col colour">Colour</div>
  <div class="col size">Size</div>
  <div class="col qty">Qty</div>
  <div class="col actions">Actions</div>
</div>

<!-- Template (hidden; cloned by JS) -->
<div class="line-row line-template" style="display:none">
  <div class="line-grid horizontal">
    <div class="col code"><input name="product_code" /></div>
    <div class="col type"><input name="garment_type" /></div>
    <div class="col title"><input name="product_title" /></div>
    <div class="col colour"><input name="colour" /></div>
    <div class="col size"><input name="size" /></div>
    <div class="col qty"><input name="quantity" type="number" min="1" value="1" /></div>
    <div class="col actions">
      <button type="button" class="btn small line-remove">Remove</button>
    </div>
  </div>
</div>

<!-- Lines inserted here -->
<div id="order-lines-body"></div>

<div class="form-row full">
  <button type="button" id="add-line-btn" class="btn outline">+ Add line</button>
</div>
</div>

<div class="form-row">
  <label>Status
    <select name="status">
      <option value="Draft">Draft</option>
      <option value="Confirmed">Confirmed</option>
      <option value="In Production">In Production</option>
      <option value="Completed">Completed</option>
      <option value="Shipped">Shipped</option>
    </select>
  </label>
</div>

<div class="form-row full">
  <label>Notes
    <input name="notes" />
  </label>
</div>

<div class="form-row full">
  <label>Upload Artwork / Visuals (multiple)
    <input type="file" name="files" id="files" multiple />
  </label>
</div>

<div class="form-row full">
  <button class="btn primary" type="submit">Create Order</button>
</div>
</form>
</div>
</section>
</div>


      <!-- CUSTOMERS -->
      <div id="tab-customers" class="tab-content">
        <h1>Customers</h1>
        <div id="customers-root" class="grid-2">
          <section id="customers-list" class="card">
            <div class="card-head"><h2>All Customers</h2></div>
            <div class="card-body">
              <table id="customers-table" class="data-table">
                <thead>
                  <tr>
                    <th>Business</th>
                    <th>Contact</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th class="w-90">Actions</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <section id="customer-form-wrap" class="card">
            <div class="card-head"><h2>Add Customer</h2></div>
            <div class="card-body">
              <form id="customer-form" class="form-grid">
                <div class="form-row full">
                  <label>Business Name<span class="req">*</span>
                    <input name="business_name" required />
                  </label>
                </div>
                <div class="form-row">
                  <label>Contact Name
                    <input name="contact_name" />
                  </label>
                </div>
                <div class="form-row">
                  <label>Email<span class="req">*</span>
                    <input type="email" name="email" required />
                  </label>
                </div>
                <div class="form-row">
                  <label>Phone
                    <input name="phone" />
                  </label>
                </div>
                <div class="form-row">
                  <label>Mobile
                    <input name="mobile" />
                  </label>
                </div>

                <div class="form-row full"><h3 class="subhead">Invoice Address</h3></div>
                <div class="form-row full"><label>Line 1<input name="inv_line1" /></label></div>
                <div class="form-row full"><label>Line 2<input name="inv_line2" /></label></div>
                <div class="form-row"><label>City<input name="inv_city" /></label></div>
                <div class="form-row"><label>Region/State<input name="inv_region" /></label></div>
                <div class="form-row"><label>Postcode<input name="inv_postcode" /></label></div>
                <div class="form-row"><label>Country<input name="inv_country" /></label></div>

                <div class="form-row full"><h3 class="subhead">Shipping Address</h3></div>
                <div class="form-row full"><label>Line 1<input name="ship_line1" /></label></div>
                <div class="form-row full"><label>Line 2<input name="ship_line2" /></label></div>
                <div class="form-row"><label>City<input name="ship_city" /></label></div>
                <div class="form-row"><label>Region/State<input name="ship_region" /></label></div>
                <div class="form-row"><label>Postcode<input name="ship_postcode" /></label></div>
                <div class="form-row"><label>Country<input name="ship_country" /></label></div>

                <div class="form-row full">
                  <button class="btn primary" type="submit">Save Customer</button>
                </div>
              </form>
            </div>
          </section>

          <section id="customer-detail" class="card" style="display:none">
            <div class="card-head">
              <div>
                <h2 id="cd-name">Customer</h2>
                <div class="muted small">Contact: <span id="cd-contact"></span> · <span id="cd-email"></span> · <span id="cd-phone"></span></div>
              </div>
              <div class="card-actions">
                <button id="customer-back-btn" class="btn outline">Back to list</button>
              </div>
            </div>
            <div class="card-body">
              <div class="grid-2">
                <div><h3 class="subhead">Invoice Address</h3><p id="cd-invoice" class="address"></p></div>
                <div><h3 class="subhead">Shipping Address</h3><p id="cd-shipping" class="address"></p></div>
              </div>

              <h3 class="subhead mt">Previous Orders</h3>
              <table id="customer-orders-table" class="data-table">
                <thead>
                  <tr><th>Order</th><th>Status</th><th>Total</th><th>Created</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>
        </div>
      </div>

      <!-- STOCK -->
      <div id="tab-stock" class="tab-content">
        <h1>Stock</h1>
        <p>Stock management content.</p>
      </div>

      <!-- LABELS -->
      <div id="tab-labels" class="tab-content">
        <h1>Labels</h1>
        <button id="loadBtn" onclick="loadBoard()">Update Board Info</button>
        <div id="board"></div>
      </div>

      <!-- SHIPPING -->
      <div id="tab-shipping" class="tab-content">
        <h1>Shipping</h1>
        <p>Shipping tools will be shown here.</p>
      </div>
    </main>
  </div>

  <!-- Hidden scanner input + pill -->
  <input id="scannerInput" type="text" autocomplete="off" inputmode="text"
         style="position:absolute;left:-9999px;width:1px;height:1px;opacity:0;" />
  <div id="scannerPill"
       style="position:fixed;right:12px;bottom:12px;background:#111;color:#fff;padding:6px 10px;border-radius:999px;font:12px/1 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;">
    Scanner: <span id="scannerPillText">ready</span>
  </div>
</body>
</html>
